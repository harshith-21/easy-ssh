{% extends "terminal/base.html" %}

{% block title %}Open Connection - {{ host.name }}{% endblock %}

{% block content %}
<div class="container">
    <h1>Connect to {{ host.name }}</h1>
    
    <div class="card" style="max-width: 600px; margin: 40px auto;">
        <h2>Select Credential</h2>
        <form method="POST">
            {% csrf_token %}
            <div class="form-group">
                <label>Credential</label>
                <select name="credential_id" required style="width: 100%; padding: 10px; background: #333; color: #fff; border: 1px solid #444; border-radius: 5px;">
                    {% if host.default_credential %}
                    <option value="{{ host.default_credential.id }}" selected>{{ host.default_credential.name }} (Default)</option>
                    {% endif %}
                    {% for cred in credentials %}
                        {% if not host.default_credential or cred.id != host.default_credential.id %}
                        <option value="{{ cred.id }}">{{ cred.name }}</option>
                        {% endif %}
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group">
                <label>Session Number</label>
                <input type="number" name="session_num" value="1" min="1" style="width: 100%; padding: 10px; background: #333; color: #fff; border: 1px solid #444; border-radius: 5px;">
                <small style="color: #999;">Use different session numbers to open multiple terminals</small>
            </div>
            
            <button type="submit" class="btn btn-primary">Connect</button>
            <a href="/home/" class="btn btn-secondary">Back</a>
        </form>
    </div>
</div>
{% endblock %}

